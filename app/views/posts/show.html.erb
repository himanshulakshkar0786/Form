<br><%= image_tag @post.image.url(:medium) %>

<p>
  <strong>Title:</strong>
  <%= @post.title %>
</p>
 
<p>
  <strong>Description:</strong>
  <%= @post.description %>
</p>

<p>
  <strong>Author:</strong>
  <%= @post.user.name %>
</p>

<% if current_user.present? %>

  <% if current_user.voted_up_on? @post %>
     <%= link_to like_post_path(@post, url: "show"), method: :put do %>
        <class style = "color:blue;"><span class="glyphicon glyphicon-thumbs-up"></span></class> <% end %>
        <%= @post.get_upvotes.size %>
  <% else %>
     <%= link_to like_post_path(@post, url: "show"), method: :put do %>
        <class style = "color:black;"><span class="glyphicon glyphicon-thumbs-up"></span></class> <% end %>
        <%= @post.get_upvotes.size %>
  <% end %>

  <% if current_user.voted_down_on? @post %>
     <%= link_to dislike_post_path(@post, url: "show"), method: :put do %>
        <class style = "color:blue;"><span class="glyphicon glyphicon-thumbs-down"></span></class> <% end %>
        <%= @post.get_downvotes.size %>
  <% else %>
     <%= link_to dislike_post_path(@post, url: "show"), method: :put do %>
        <class style = "color:black;"><span class="glyphicon glyphicon-thumbs-down"></span></class> <% end %>
        <%= @post.get_downvotes.size %>
  <% end %>

<% else %>


  <%= link_to like_post_path(@post), method: :put do %>
      <span class="glyphicon glyphicon-thumbs-up"></span><% end %>
      <%= @post.get_upvotes.size %>

  <%= link_to dislike_post_path(@post), method: :put do %>
      <span class="glyphicon glyphicon-thumbs-down"></span><% end %>
      <%= @post.get_downvotes.size %>

<% end %>

<br><br><h4><%= link_to 'Edit Post', edit_post_path(@post), class:'label label-danger' %> |
<%= link_to 'Destroy', post_path(@post),
              method: :delete,
              data: { confirm: 'Are you sure?' }, class:'label label-warning' %></h4>

<h2>Comments</h2>
<%= render @post.comments.order(created_at: :desc) %><br><br>
<h4><%= link_to "Add a comment", new_post_comment_path(@post), class:'label label-default' %></h4>
<br><%= link_to 'Back', root_path, class:'label label-info' %>